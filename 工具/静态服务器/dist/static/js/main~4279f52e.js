"use strict";(self.webpackChunkgame_camp_2d=self.webpackChunkgame_camp_2d||[]).push([[156],{2365:function(t,i,n){n.d(i,{Z:function(){return l}});var e=n(8152),o={container:"camp-game_container__RSMB+",canvas:"camp-game_canvas__EmC+l"},a=n(2791),r=n(4938),s=n(4861),h=n(184),c=function(t){var i=t.className,n="".concat(o.container," ").concat(i||""),c=document.documentElement.clientWidth/375,l=(0,a.useState)(!0),u=(0,e.Z)(l,2),d=u[0],p=u[1],f=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){new r.Z({dom:f,scale:c,loaded:function(){p(!1)}})}),[c]),(0,h.jsxs)("div",{className:n,children:[(0,h.jsx)("div",{className:o.canvas,ref:f,style:{display:d?"none":""}}),(0,h.jsx)("img",{className:o.loading,src:s,style:{display:d?"":"none"},alt:""})]})};c.defaultProps={};var l=c},73:function(t,i,n){var e=n(5671),o=n(3144),a=n(4178),r=n(4338),s=function(){function t(){(0,e.Z)(this,t),this.init()}return(0,o.Z)(t,[{key:"init",value:function(){this.app=new a.MxU({autoStart:!0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,autoDensity:!0,antialias:!0,preserveDrawingBuffer:!1,resolution:window.devicePixelRatio,forceCanvas:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,powerPreference:"high-performance",sharedTicker:!1,sharedLoader:!1}),this.dom=this.app.view,this.width=this.app.screen.width,this.height=this.app.screen.height,this.app.renderer.view.style.position="absolute",this.app.renderer.view.style.display="block"}},{key:"add",value:function(){for(var t=this,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];n.forEach((function(i){t.app.stage.addChild(i)}))}},{key:"setMouseFloatIcon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i="url('".concat(t,"'),auto"),n="url('".concat(t,"'),auto");this.app.renderer.plugins.interaction.cursorStyles.default=i,this.app.renderer.plugins.interaction.cursorStyles.hover=n}}]),t}();i.Z=s},8634:function(t,i,n){n.d(i,{Z:function(){return M}});var e=n(5671),o=n(3144),a=n(4178),r=n(2931),s=n(9568),h=n(293),c=n(2338),l=n(9265),u=n(1659),d=n(3810),p=n(4482),f=n(1723),g=n(1340),m=n(5065),v=n(5687),y=n(7242),C=n(6119),w=n(6089),k=n(8176),b=n(2722),E=n(5592),S=n(4832),L=n(6944),P=n(2161),T=n(7934),x=[];function A(t,i){for(var e=0;e<t.length;e++){var o=t[e].name;x.push({name:"".concat(i,"_").concat(o),url:n(5613)("./".concat(i,"/").concat(o,".png")),crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}})}}A(T.v_,"architecture"),A(T.C0,"equip"),A(T.QH,"person"),A(T._T,"exercise"),console.log("jsonFile--",L);var O=[{name:P.oe,url:r,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.bm,url:s,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.MB,url:h,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.q3,url:c,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.f8,url:l,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.CY,url:u,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.qu,url:d,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.mp,url:p,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.XN,url:f,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.k9,url:g,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.Ij,url:m,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.xc,url:v,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.aY,url:y,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.LE,url:C,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.Nw,url:w,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.Se,url:k,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.Qt,url:b,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.R5,url:S,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}},{name:P.N7,url:E,crossOrigin:!0,loadType:a.kCJ.LOAD_TYPE.IMAGE,onLoaded:function(){},onComplete:function(){}}].concat(x),M=function(){function t(){(0,e.Z)(this,t),this.init()}return(0,o.Z)(t,[{key:"init",value:function(){this.loader=a.aNw.shared,this.loader.reset()}},{key:"loadAll",value:function(){var t=this;return new Promise((function(i,e){t.loader.add(O).add("water-gun-man",n(6944)).load((function(t,n){console.log("s-s-s-s-",n["water-gun-man"]),i({loader:t,resource:n})}))}))}},{key:"onListening",value:function(t){var i=t.onComplete,n=t.onProgress,e=t.onLoad,o=t.onError;"function"===typeof n&&this.loader.onProgress.add(n),"function"===typeof e&&this.loader.onLoad.add(e),"function"===typeof i&&this.loader.onComplete.add(i),"function"===typeof o&&this.loader.onError.add(o),console.log(this.loader.progress)}},{key:"getImageSprite",value:function(){}}]),t}()},4824:function(t,i,n){var e=n(5671),o=n(3144),a=n(8184),r=n(2161),s=n(6529),h=n(2729),c=n(9086),l=function(){function t(){(0,e.Z)(this,t),this.mainX=121,this.mainY=708,this.init()}return(0,o.Z)(t,[{key:"init",value:function(){this.initContinue(),this.initGoCamp(),this.initLeaveNow(),this.initBack(),this.initFinish(),this.container=(0,a.f)({name:s.hT}),this.container.addChild(this.continue),this.container.addChild(this.goCamp),this.container.addChild(this.leaveNow),this.container.addChild(this.back),this.container.addChild(this.finish)}},{key:"initContinue",value:function(){this.continue=(0,a.P)({name:r.Nw,width:132,height:40}),this.continue.x=this.mainX,this.continue.y=this.mainY,this.continue.visible=!1}},{key:"initGoCamp",value:function(){this.goCamp=(0,a.P)({name:r.Se,width:132,height:40}),this.goCamp.x=this.mainX,this.goCamp.y=this.mainY}},{key:"initLeaveNow",value:function(){this.leaveNow=(0,a.P)({name:r.Qt,width:132,height:40}),this.leaveNow.x=this.mainX,this.leaveNow.y=this.mainY,this.leaveNow.visible=!1}},{key:"initBack",value:function(){this.back=(0,a.P)({name:r.R5,width:30,height:30}),this.back.x=30,this.back.y=64,this.back.visible=!1}},{key:"initFinish",value:function(){this.finish=(0,a.P)({name:r.N7,width:50,height:28}),this.finish.x=327,this.finish.y=68,this.finish.visible=!1}},{key:"show",value:function(t){t===h.W.transportation&&(this.goCamp.visible=!1,this.leaveNow.visible=!0,this.back.visible=!1,this.finish.visible=!1),t!==h.W.background&&t!==h.W.motor||(this.leaveNow.visible=!1,this.continue.visible=!0,this.back.visible=!0,this.finish.visible=!1),t===h.W.sticker&&(this.finish.visible=!0,this.continue.visible=!1)}},{key:"addEvent",value:function(t,i,n,e){var o=this;this.goCamp.addListener("tap",(function(){i.show(),o.show(h.W.transportation),t.setBlur(),c.p8.to(t.bgBlur,{blur:30,quality:6,duration:.5,yoyo:!0})})),this.leaveNow.addListener("tap",(function(){t.show(!1),i.show(!1),o.show(h.W.background),n.show(!0),o.currentState=h.W.background})),this.continue.addListener("tap",(function(){return o.currentState===h.W.background?(n.showSelector(!1),o.show(h.W.motor),void(o.currentState=h.W.motor)):o.currentState===h.W.motor?(o.currentState=h.W.sticker,o.show(h.W.sticker),void e.show(!0)):void(o.currentState===h.W.sticker&&o.show(h.W.sticker))})),this.back.addListener("tap",(function(){o.currentState===h.W.background&&(t.show(),i.show(),o.show(h.W.transportation),n.show(!1),c.p8.to(t.bgBlur,{blur:30,quality:12,duration:.5,yoyo:!0}),o.currentState=null),o.currentState===h.W.motor&&(n.showSelector(),o.show(h.W.background),o.currentState=h.W.background),o.currentState===h.W.sticker&&(o.show(h.W.motor),o.currentState=h.W.motor,e.show(!1))}))}}]),t}();i.Z=l},3776:function(t,i,n){var e=n(5671),o=n(3144),a=n(4178),r=n(9317),s=n(1863),h=n(5147),c=n(6944),l=function(){function t(i,n){var o=this;(0,e.Z)(this,t),this.materialMsg={},this.startPoint={x:null,y:null,sprite:{x:null,y:null,scale:1},scale:{x:null,y:null,x2:null,y2:null},container:{x:null,y:null}},this.initContainer=function(t){var i=o.app,n=t.realHeight,e=t.realWidth,r=new a.W20;r.position=new a.E9j(Math.floor(i.width/2),Math.floor(i.height/2)),r.width=e,r.height=n,r.interactive=!0,r.buttonMode=!0,o.parentContainer.addChild(r);var s="gif"===t.type?o.initGif(t):o.initImage(t);s.width=e,s.height=n,s.x=0,s.y=0,s.anchor.set(.5,.5);var h=new a.TCu;h.lineStyle(1,16777215,1),h.drawRoundedRect(-e/2-20,-n/2-20,e+40,n+40,0),h.endFill(),r.addChild(s),r.addChild(h),r.on("pointerdown",o.onDragStart).on("pointerup",o.onDragEnd).on("pointerupoutside",o.onDragEnd).on("pointermove",(function(){o.onDragMove(r)})).on("tap",(function(){o.onSetSpriteVisible(r)})),o.createButton(r),h.visible=!1},this.onSetSpriteVisible=function(t){var i=o.parentContainer.children.filter((function(t){return t.isActivity}))[0];if(t===i)return!1;if(i){i.isActivity=!1;for(var n=i.children,e=0;e<n.length;e++)n[e].visible="sprite"===n[e].name}t.isActivity=!0;for(var a=t.children,r=0;r<a.length;r++)a[r].visible=!0},this.app=i,this.parentContainer=n}return(0,o.Z)(t,[{key:"initGif",value:function(t){t.dir,t.imgLength;var i=a.xEZ.from(h),n=new a.c2G(i,c);n.parse((function(){return console.log("Spritesheet ready to use!",n)}));var e=[];Object.keys(n.textures).sort().forEach((function(t){e.push(n.textures[t])}));var o=this.app,r=new a.KgH(e);return r.name="sprite",r.anchor.x=.5,r.anchor.y=.5,r.width=200,r.height=200,r.x=Math.floor(o.width/2),r.y=Math.floor(o.height/2),setTimeout((function(){r.play()}),0),r}},{key:"initImage",value:function(t){var i=this.app,n=t.name,e=t.width,o=t.height,r=t.path,s=a.aNw.shared.resources["".concat(r,"_").concat(n)].texture,h=a.jyi.from(s);return h.name="sprite",h.anchor.x=.5,h.anchor.y=.5,h.width=e,h.height=o,h.x=Math.floor(i.width/2),h.y=Math.floor(i.height/2),h}},{key:"onDragStart",value:function(t){this.dragging||(this.data=t.data,this.dragging=!0,this.dragPoint=t.data.getLocalPosition(this.parent),this.dragPoint.x-=this.x,this.dragPoint.y-=this.y)}},{key:"onDragEnd",value:function(){this.dragging&&(this.dragging=!1,this.data=null)}},{key:"onDragMove",value:function(t){if(t.dragging&&!this.touchType){var i=t.data.getLocalPosition(t.parent);t.x=i.x-t.dragPoint.x,t.y=i.y-t.dragPoint.y}}},{key:"createButton",value:function(t){var i=this,n=a.xEZ.from(s),e=new a.jyi(n);e.name="scale_btn",e.width=20,e.height=20,e.interactive=!0,e.anchor.set(0),e.position.set(t.width/2-10,t.height/2-10),e.alpha=1,e.on("pointerdown",(function(n){i.onScaleButStart(t,n)})),e.on("pointerup",(function(n){i.onScaleButEnd(t,n)})),e.on("pointerupoutside",(function(n){i.onScaleButEnd(t,n)})),e.on("pointermove",(function(n){i.onScaleButMove(t,n)}));var o=a.xEZ.from(r),h=new a.jyi(o);h.width=20,h.height=20,h.interactive=!0,h.anchor.set(0),h.position.set(-t.width/2-10,-t.height/2-10),h.on("pointerdown",(function(t){i.touchType="delete"})),h.on("pointerup",(function(t){i.touchType=""})),h.on("pointerupoutside",(function(t){i.touchType=""})),h.on("tap",(function(){t.destroy()})),e.visible=!1,h.visible=!1,t.addChild(e,h)}},{key:"onScaleButStart",value:function(t,i){this.touchType="scale",this.startPoint.scale.x=i.data.global.x,this.startPoint.scale.y=i.data.global.y,this.startPoint.scale.x2=this.startPoint.scale.x-t.width/2,this.startPoint.scale.y2=this.startPoint.scale.y+t.height/2,this.startPoint.sprite.scale=t.scale.x}},{key:"onScaleButEnd",value:function(t){console.log("onScaleButEnd"),this.touchType=""}},{key:"onScaleButMove",value:function(t,i){if("scale"===this.touchType){var n=this.startPoint.scale.x,e=this.startPoint.scale.y,o=this.startPoint.scale.x2,a=this.startPoint.scale.y2,r=i.data.global.x,s=i.data.global.y,h=function(t,i,n,e){return Math.sqrt(Math.pow(t-i,2)+Math.pow(n-e,2))},c=h(n,o,e,a),l=h(r,o,s,a),u=Math.max(.5,l/c);t.scale.set(u*this.startPoint.sprite.scale,u*this.startPoint.sprite.scale)}}}]),t}();i.Z=l},893:function(t,i,n){var e=n(5671),o=n(3144),a=n(8184),r=n(2161),s=n(6529),h=n(9086),c=n(4178),l=(n(2729),function(){function t(i,n){(0,e.Z)(this,t),this.init(i,n)}return(0,o.Z)(t,[{key:"init",value:function(t,i){this.createBgContainer(t,i),this.createSelectContainer(),this.createBigContainer()}},{key:"createBgContainer",value:function(t,i){this.springSprite=(0,a.P)({name:r.qu,width:t,height:i}),this.summerSprite=(0,a.P)({name:r.mp,width:t,height:i,visible:!1}),this.fallSprite=(0,a.P)({name:r.XN,width:t,height:i,visible:!1}),this.winnerSprite=(0,a.P)({name:r.k9,width:t,height:i,visible:!1}),this.bgTitleSprite=(0,a.P)({name:r.CY,width:113,height:20}),this.bgContainer=(0,a.f)({name:s.uD}),this.bgTitleSprite.x=131,this.bgTitleSprite.y=476,this.bgContainer.addChild(this.springSprite),this.bgContainer.addChild(this.summerSprite),this.bgContainer.addChild(this.fallSprite),this.bgContainer.addChild(this.winnerSprite),this.bgContainer.addChild(this.bgTitleSprite),this.bgContainer.sortChildren()}},{key:"createSelectContainer",value:function(){this.selectContainer=(0,a.f)({name:s.hd,y:516,x:20});var t=(0,a.P)({name:r.Ij,width:75,height:162,x:0}),i=(0,a.P)({name:r.xc,width:75,height:162,x:87}),n=(0,a.P)({name:r.aY,width:75,height:162,x:174}),e=(0,a.P)({name:r.LE,width:75,height:162,x:261}),o=new c.TCu;o.lineStyle({width:2,color:16777215,alpha:.6,join:c.Sat.ROUND,cap:c.$oy.ROUND}),o.drawRect(0,0,75,162),o.endFill();var h=new c.TCu;h.beginFill(16711680),h.drawRect(0,0,336,162),h.endFill(),this.selectContainer.mask=h,t.addListener("tap",this.tapClick.bind(this,o,"spring",0)),i.addListener("tap",this.tapClick.bind(this,o,"summer",87)),n.addListener("tap",this.tapClick.bind(this,o,"fall",174)),e.addListener("tap",this.tapClick.bind(this,o,"winner",261)),this.selectContainer.addChild(t),this.selectContainer.addChild(i),this.selectContainer.addChild(n),this.selectContainer.addChild(e),this.selectContainer.addChild(o),this.selectContainer.addChild(h)}},{key:"createBigContainer",value:function(){this.container=(0,a.f)({name:s.Qr}),this.selectContainer.zIndex=1,this.bgContainer.zIndex=1,this.container.addChild(this.bgContainer),this.container.addChild(this.selectContainer),this.container.sortChildren(),this.container.visible=!1}},{key:"tapClick",value:function(t,i,n){var e=this;["springSprite","summerSprite","fallSprite","winnerSprite"].forEach((function(t){e[t].visible=t.indexOf(i)>-1})),t.x=n,this.bgContainer.sortChildren()}},{key:"show",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.container.visible=t}},{key:"showSelector",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bgTitleSprite.visible=t,this.selectContainer.visible=t}},{key:"tap",value:function(){var t=this;this.springSprite.addListener("tap",(function(){h.p8.to(t.springSprite,{ease:"liner",duration:1,delay:0,angle:360,alpha:0}).play()}))}}]),t}());i.Z=l}}]);