/*! For license information please see chunk-vendor-libs~d486548b.js.LICENSE.txt */
"use strict";(self.webpackChunkgame_camp_2d=self.webpackChunkgame_camp_2d||[]).push([[839],{8980:function(t,e,r){r.d(e,{Kj:function(){return p},rY:function(){return g},xc:function(){return y}});var i=r(8924),n=r(2997),a=r(5501),o=r(536),u=r(4306),s=r(3588),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},h(t,e)};function l(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var c=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),f=new n.E9,d=new n.mg,p=function(t){function e(e,r,n,o){void 0===o&&(o=a.lg.TRIANGLES);var s=t.call(this)||this;return s.geometry=e,s.shader=r,s.state=n||i.ZM.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=u.X.ROUND_PIXELS,s.batchUvs=null,s}return l(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===a.lg.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,n=i.a,a=i.b,o=i.c,s=i.d,h=i.tx,l=i.ty,c=this.vertexData,f=0;f<c.length/2;f++){var d=e[2*f],p=e[2*f+1];c[2*f]=n*d+o*p+h,c[2*f+1]=a*d+s*p+l}if(this._roundPixels){var g=u.X.RESOLUTION;for(f=0;f<c.length;++f)c[f]=Math.round((c[f]*g|0)/g)}this.vertexDirty=r}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new c(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,f);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=d.points,i=this.geometry.getIndex().data,n=i.length,a=4===this.drawMode?3:1,o=0;o+2<n;o+=a){var u=2*i[o],s=2*i[o+1],h=2*i[o+2];if(r[0]=e[u],r[1]=e[u+1],r[2]=e[s],r[3]=e[s+1],r[4]=e[h],r[5]=e[h+1],d.contains(f.x,f.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(o.W2),g=function(t){function e(e,r){var a=this,o={uSampler:e,alpha:1,uTextureMatrix:n.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(o,r.uniforms),(a=t.call(this,r.program||i.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,a.uvMatrix=new i.UX(e),a.batchable=void 0===r.program,a.pluginName=r.pluginName,a.tint=r.tint,a.alpha=r.alpha,a}return l(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!==!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,s.GT)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(i.ex),y=function(t){function e(e,r,n){var o=t.call(this)||this,u=new i.lW(e),s=new i.lW(r,!0),h=new i.lW(n,!0,!0);return o.addAttribute("aVertexPosition",u,2,!1,a.vK.FLOAT).addAttribute("aTextureCoord",s,2,!1,a.vK.FLOAT).addIndex(h),o._updateId=-1,o}return l(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(i.ZX)},4178:function(t,e,r){r.d(e,{$oy:function(){return D.$o},E9j:function(){return M.E9},KgH:function(){return w.K},MxU:function(){return o.M},P6Y:function(){return i},Sat:function(){return D.S},TCu:function(){return D.TC},W20:function(){return T.W2},aNw:function(){return h.aN},c2G:function(){return d.c},c9f:function(){return M.c9},jyi:function(){return I.j},kCJ:function(){return h.kC},pn8:function(){return C.pn},u8d:function(){return O},xEZ:function(){return u.xE},xvT:function(){return C.xv}});r(8001);var i=r(3588),n=r(4241),a=r(8701),o=r(4360),u=r(8924),s=r(3735),h=r(5842),l=r(1912),c=r(3262),f=r(3733),d=r(6149),p=r(3539),g=r(7069),y=r(4039),m=r(182),x=r(9133),v=r(4663),b=r(1601),_=r(4541),P=r(2004),T=(r(5267),r(7046),r(1446),r(5501),r(536)),D=r(5155),M=r(2997),I=(r(8980),r(7322),r(9951),r(6649)),w=r(5008),C=r(798);r(4306);u.Th.registerPlugin("accessibility",n.L),u.Th.registerPlugin("extract",s.Q),u.Th.registerPlugin("interaction",a.bx),u.Th.registerPlugin("particle",c.P),u.Th.registerPlugin("prepare",f.B9),u.Th.registerPlugin("batch",u.Bv),u.Th.registerPlugin("tilingSprite",p.S),h.aN.registerPlugin(g.vl),h.aN.registerPlugin(l.Dq),h.aN.registerPlugin(l.R9),h.aN.registerPlugin(l.sG),h.aN.registerPlugin(d.o),o.M.registerPlugin(y.Sb),o.M.registerPlugin(h.LP);var O={AlphaFilter:m.U,BlurFilter:x.T,BlurFilterPass:x.Y,ColorMatrixFilter:v.m,DisplacementFilter:b.p,FXAAFilter:_.b,NoiseFilter:P.L}}}]);